<?xml version="1.0" encoding="UTF-8" ?>  
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">  

<mapper namespace="kr.spring.shelter.dao.ShelterMapper">  <!-- namespace는 유니크하게 설정, sql식별자 -->
  
  <!-- <![CDATA[]]> xml문법체크 하지 말고 패스 하라는 뜻, 사용 이유: <=에서 <를 태그 여는 것으로 인식하기 때문에  -->
  <select id="selectList" parameterType="map" resultType="ShelterCommand">
  	select * from (
  		select a.*, rownum rnum from (
  			select *
  			from shelter_detail sd
  			
  			order by sd.s_reg_date desc)a)
  			
  		<![CDATA[
  			where rnum >= #{start} and rnum <= #{end}
  		]]>
  </select>
  
  <!-- map,interger는 Map,Integer 둘 다 상관 없음. mybatisc가 alias를 가지고 있으므로 -->
  <select id="selectRowCount" parameterType="map" resultType="integer">
  	select count(*)
  	from shelter_detail
  	
  	<!-- 다이나믹 형태(동적인 sql) : 상황에 따라 sql이 적용됨 -->
  	
  	
  </select>
  
</mapper>







